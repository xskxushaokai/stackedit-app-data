
# 字符数组和字符串

## 一、字符数组
### 1.字符数组定义   
```char ch[5]; //定义了一个存放5个字符变量的数组```
### 2.字符数组初始化
#### (1)用字符初始化
```cpp
char ch[5]={‘a’,’b’,’c’,’d’};
/***
这里
ch[0]='a',
ch [1]='b',
ch [2]='c',
ch [3]='d',
ch [4]='';
从ch[0]开始一一存入用单引号括起来的字符常量，
初始值数量少于长度的，剩下的默认为空字符。
千万不能超过长度，会溢出出错。
***/
```
#### (2)用字符串初始化
```cpp
char ch[5]=”abcd”; 
/***
这里ch[0]='a',
ch [1]='b',
ch [2]='c',
ch [3]='d',
 ch [4]='\0';
最后一个是结束符，
所以这种方式初始化，字符串的长度要比字符数组的长度少1，
要预留一个位置放结束符。
注意双引号" "是字符串的界定符，
单引号''是字符的界定符，不可混用。
***/
```

### 3.字符数组的读入输出
字符数组跟普通数组不同，可以直接读入输出整个字符串。

```cpp
// 利用cin、cout库函数读入和输出
char ch[100];
cin >> ch;
cout << ch;
// 输入: abc def
// 输出: abc
```

```cpp
// 利用cin.getline()将键盘输入的字符串读入char数组
char ch[100];
cin.getline(ch,100);
cout << ch;
// 输入: abc def
// 输出: abc def
```

同样的，因为```cin```读入是忽略空格的，当字符串中有空格时```cin```读入就会停止，要输入输出完整的字符串要用```cin.getline(ch,100)```。第一个参数是读入位置，这里是存放到数组```ch```中。第二个参数是读入长度，最多读入100个，如果遇到读入结束符如换行就停止读入，否则一直读100个字符。

### 4.字符数组函数
**使用数组函数，需要添加头文件```#include <cstring>```**

**常用的函数：**


|函数|说明|
|:-:|:-:|
|```strlen(ch)```|计算字符数组```ch```的长度，用字符串初始化或输入时，不统计终止符‘\0’|
|```strcmp(ch1,ch2)```|比较字符数组```ch1```和```ch2```的大小，从左到右按ASCII码逐位比较。如果 $ch1>ch2$ ，返回1。 如果=，返回0。如果<，返回-1。注：不能用```ch1>ch2```这种方式进行比较|
|```strcat(ch1,ch2)```|将字符数组2中的字符连接到字符数组1后面，返回字符数组1的值。|
|```strcpy(ch1,ch2)```|将字符数组2中的字符复制给字符数组1，返回字符数组1的值。|
|```strupr(ch)```|将字符数组中的字母变成大写|
|```strlwr(ch)```|将字符数组中的字母变成小写|

**例题：** 输入2个单词，输出每个单词的长度，将每个单词转化为大写字母后按ASCII值从小到大排序输出，连接两个单词并转化为小写字母后输出。

```cpp
char ch1[100],ch2[100];
cin>>ch1;
cin>>ch2;

cout<<strlen(ch1)<<" "<<strlen(ch2)<<endl;

strupr(ch1);
strupr(ch2);

if(strcmp(ch1,ch2)==1){
    char a[100];
    strcpy(a, ch1);
    strcpy(ch1, ch2);
    strcpy(ch2, a);
}
cout << ch1 <<" " << ch2 << endl;

strcat(ch1, ch2);
strlwr(ch1);
cout << ch1 << endl;
```
---

## 二、字符串
### 1.字符串的定义和赋值
要使用 ```string```，先要在头文件加入```<string>```，注意不是```<cstring>```(这是字符数组函数用的)。


```cpp
string s；// 声明了一个字符串变量s，默认是空字符串。
string ss[100]; //声明了一个存放100个字符串的字符串数组s。
string s="Hello World!"; //声明的同时赋值即初始化，字符串要用双引号“ “括起来。
string s(s1); //声明的同时将s1的值赋给s。相当于string s；s=s1;
string s(s1,2); //声明的同时把s1的前2个字符赋值给s。相当于string s；s=substr(s1,0,2);
```

### 2.字符串的输入和输出
```string```类型的读写跟其他的一样，可以用```cin```、```cout```，同样要注意cin忽略空格回车制表符。

**例1：** 一行文本，由空格和字母组成，空格之间的字母组成一个单词，给单词编号并输出

```cpp
/***
输入：
hello    world
today

输出：
1hello
2world
3today
***/

string s;
int m=0;
while(cin>>s)
  cout << ++m << s;
```

**如果要整行输入包括空格，就要用```getline(cin,s)```，注意```getline(cin,s)```和```cin.getline(ch,100)```的区别。**



|函数|```cin>>ch```;```cin>>s```|```cin.getline(cin,5)```|```getline(cin,s)```|
|:-:|:-:|:-:|:-:|
|头文件|```iostream```|```iostream```|```string```|
|应用场景|字符数组和字符串都可以输入|```ch```是字符数组|```s```是字符串|
|特殊字符|不包含制表符、空格和回车换行|不包含换行|不包含换行|

**例2：** 给出一段文本，请加上行号后输出

```cpp
/***
输入：
hello   world
today

输出：
1hello   world
2today
***/
```
分析：因为文本包括空格，不能用```cin```，下列两种方式效果相同，注意数据类型。

```cpp
string s;
int m=0;
while(getline(cin,s))
    cout << ++m << s;
```

```cpp
char ch[100];
int m=0;
while(cin.getline(ch,100))
    cout << ++m << ch;
```

### 3.string类的操作符
```string```的操作非常简单，跟整型类似，跟字符数组的相应操作对比一下：


|操作|字符串|字符数组|
|:-:|:-:|:-:|
|比较|```s1==s2, s1>s2, s1<s2```(>=, <=, !=)|```strcmp(ch1,ch2)```，返回不同数|
|赋值|```s1=s2;```|```strcpy(ch1,ch2);```|
|交换|```s1.swap(s2)```|```char a[100]```; ```strcpy(a,ch1); strcpy(ch2,ch1); strcpy(ch1,a);```|
|连接|```s1+=s2```|```strcat(ch1,ch2)```|
|长度|```s1.size()```|```strlen(ch)```|
|大小写转换|无|```strupr(ch), strlwr(ch)```|

前面我们用字符数组函数处理的例题再用字符串来做一下：

输入2个单词，输出每个单词的长度，将每个单词转化为大写字母后按ASCII值从小到大排序输出，连接两个单词并转化为小写字母后输出。

```cpp
// 使用字符串string
string s1, s2;
cin>>s1>>s2;

int len1=s1.size();
int len2=s2.size();
cout<<len1<<" "<<len2<<endl;

for(int i=0;i<len1;i++){
  s1[i]+='A' - 'a';
}

for(int i=0;i<len2;i++){
  s2[i]+='A' - 'a';
}

if(s1>s2)
  s1.swap(s2);

cout << s1 << " " << s2 << endl;

s1 += s2;
for(int i=0;i<len1+len2;i++){
  s1[i] += 'a' - 'A';
}
cout << s1;
```
```cpp
// 使用char数组
char ch1[100],ch2[100];
cin>>ch1;
cin>>ch2;
cout<<strlen(ch1)<<" "<<strlen(ch2)<<endl；

strupr(ch1);
strupr(ch2);

if(strcmp(ch1,ch2)==1){
  char a[100];
  strcpy(a,ch1);
  strcpy(ch1,ch2);
  strcpy(ch2,a);
}
cout<<ch1<<" "<<ch2<<endl;

strcat(ch1,ch2);
strlwr(ch1);

cout<<ch1<<endl;
```
可见，除了大小写转换麻烦一点，其他的操作```string```完胜。
除此之外，```string```类还有好用的函数。

**字符串函数**


||字符串|字符数组|
|:-:|:-:|:-:|
|查找|```s.find('a');``` //查找字符串```s```中是否包含```'a'```, 大小写敏感，包含就返回找到的位置，如果找不到就返回-1。|遍历数组，逐一比较。|
|删除|```s.erase(2,5); //删除字符串s中从2开始的5个字符，返回s```|把7开始的后面的字符逐一向前移动到2开始，输出长度-5|
|插入|```s.insert(2,"abc"); //在字符串s的2位置插入字符串“abc“，返回s```|把2到后面的字符逐一往后移动“abc“的字符串长度，再逐一赋值|
|替换|```s.replace(0,2,"abc"); //字符串0开始的2个位置替换为"abc"```|同插入|
|子串|```s.substr(0,2); //提取字符串s中从0开始的2个字符组成的子串。```|限定范围遍历|

书中还有```string```类与数值转换、```string```类与字符数组的相互转换，个人目前觉得意义不大，暂时忽略。

在很多相关的题目中，字符数组和字符串都是可以实现的，但到底选择哪种方式是最简单的，就要靠多刷题，建立题感了。数据类型的选择很大程度上就决定了解决这道题的难度，所以是个难点。
<!--stackedit_data:
eyJoaXN0b3J5IjpbLTExMTExMDMyNzVdfQ==
-->