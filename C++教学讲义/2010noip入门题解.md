
## 2010 NOIP 入门组题解

```c++
// 模拟做法，特别注意：接水停止的条件是，所有水龙头上的同学都接完水了，并且没人排队了

#include<iostream>
// #include<numeric>

using namespace std;

int a[10005], pos[105];

int main(){
	// freopen("P1190_9.in", "r", stdin);
	// freopen("P1190_9.out", "w", stdout);

	int n, m, stop=1, cost=0;
	cin >> n >> m;
	int next = m+1; // 下一个轮到的人

	for(int i=1;i<=n;i++) {
		cin >> a[i];
		if (i<=m) pos[i] = i;
	}

	while(1){
		cost++;
		for(int i=1;i<=m;i++){
			if(a[pos[i]]>0) {
				a[pos[i]]--;
				if(a[pos[i]]>0) stop = 0; // 只要有一个水龙头上的同学还没接完水，就继续模拟接水
			}

			// 排队的人补位接水
			if(a[pos[i]]==0 && next<=n){
				pos[i] = next;
				next++;
				stop = 0; // 有人补位上来，继续模拟接水
			}
		}

		if (stop) break;
		stop = 1;

		// if(accumulate(a+1, a+1+n , 0)==0) break;
	}
	cout << cost << endl;
	return 0;
}
```
<!--stackedit_data:
eyJoaXN0b3J5IjpbMTU1MzI3MzU0Ml19
-->